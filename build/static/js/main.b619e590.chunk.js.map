{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","services/persons.js","components/Error.js","App.js","index.js"],"names":["Filter","handleChange","filter","value","onChange","PersonForm","name","number","handleNameChange","handleNumberChange","handlePersonAdd","type","onClick","Person","person","handleDelete","Persons","persons","handleDeleteOf","map","key","id","baseUrl","axios","get","then","response","data","newObject","post","put","delete","Error","message","errorClass","severity","className","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","setFilter","errorMessage","setErrorMessage","errorSeverity","setErrorSeverity","useEffect","personService","initialPersons","filteredPersons","toLowerCase","startsWith","event","target","preventDefault","found","forEach","window","confirm","personObject","returnedPerson","n","concat","setTimeout","catch","error","find","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b619e590.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Filter = ({ handleChange, filter }) => {\r\n    return (\r\n        <div>\r\n            filter shown with <input value={filter} onChange={handleChange}></input>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Filter;","import React from 'react';\r\n\r\nconst PersonForm = ({ name, number, handleNameChange, handleNumberChange, handlePersonAdd }) => {\r\n    return (\r\n        <form>\r\n            <div>\r\n                name: <input value={name} onChange={handleNameChange} />\r\n            </div>\r\n            <div>\r\n                number: <input value={number} onChange={handleNumberChange} />\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\" onClick={handlePersonAdd}>add</button>\r\n            </div>\r\n        </form>\r\n    );\r\n};\r\n\r\nexport default PersonForm;","import React from 'react';\r\n\r\nconst Person = ({ person, handleDelete }) => {\r\n    return (\r\n        <p>{person.name} {person.number} <button onClick={handleDelete}>Delete</button></p>\r\n    );\r\n};\r\n\r\nexport default Person;","import React from 'react';\r\nimport Person from './Person'\r\n\r\nconst Persons = ({ persons, handleDeleteOf }) => {\r\n    return (\r\n        <div>\r\n            {persons.map((person) => <Person person={person} key={person.name}\r\n                handleDelete={() => { handleDeleteOf(person.id) }}>\r\n            </Person>)}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Persons;","import axios from \"axios\";\r\nconst baseUrl = \"/api/persons\";\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst create = (newObject) => {\r\n  const request = axios.post(baseUrl, newObject);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst deleteObject = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`);\r\n  return request.then();\r\n};\r\n\r\nexport default {\r\n  getAll,\r\n  create,\r\n  update,\r\n  deleteObject,\r\n};\r\n","import React from 'react';\r\n\r\nconst Error = ({ message, severity }) => {\r\n    let errorClass = \"notification\"\r\n    if (severity > 1) errorClass = \"error\"\r\n    if (message === null) {\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <div className={errorClass}>\r\n            {message}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Error;","import React, { useState, useEffect } from 'react'\r\nimport Filter from './components/Filter'\r\nimport PersonForm from './components/PersonForm'\r\nimport Persons from './components/Persons'\r\nimport personService from './services/persons'\r\nimport Error from './components/Error'\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n  const [newName, setNewName] = useState('')\r\n  const [newNumber, setNewNumber] = useState('')\r\n  const [filter, setFilter] = useState('')\r\n  const [errorMessage, setErrorMessage] = useState(null)\r\n  const [errorSeverity, setErrorSeverity] = useState(1)\r\n\r\n  useEffect(() => {\r\n    personService.getAll()\r\n      .then(initialPersons => setPersons(initialPersons))\r\n  }, [])\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault()\r\n\r\n    let found = false\r\n    let id = 0\r\n    persons.forEach(person => {\r\n      if (person.name === newName) {\r\n        found = true\r\n        id = person.id\r\n      }\r\n    })\r\n\r\n    if (found) {\r\n      if (window.confirm(`${newName} is already added to phonebook. Replace old number with new number?`)) {\r\n        const personObject = {\r\n          name: newName,\r\n          number: newNumber,\r\n        }\r\n        personService.update(id, personObject)\r\n          .then(returnedPerson => {\r\n            setPersons(persons.filter(n => n.id !== id).concat(returnedPerson))\r\n            setNewName('')\r\n            setNewNumber('')\r\n            setErrorMessage(`Edited ${returnedPerson.name} `)\r\n            setTimeout(() => {\r\n              setErrorMessage(null)\r\n            }, 5000)\r\n          })\r\n          .catch(error => {\r\n            setErrorMessage(`Information of ${personObject.name} has already been removed from server`)\r\n            setErrorSeverity(2)\r\n            setNewName('')\r\n            setNewNumber('')\r\n            setPersons(persons.filter(n => n.id !== id))\r\n            setTimeout(() => {\r\n              setErrorMessage(null)\r\n              setErrorSeverity(1)\r\n            }, 5000)\r\n          })\r\n      }\r\n    } else {\r\n      const personObject = {\r\n        name: newName,\r\n        number: newNumber\r\n      }\r\n      personService.create(personObject)\r\n        .then(returnedPerson => {\r\n          setPersons(persons.concat(returnedPerson))\r\n          setNewName('')\r\n          setNewNumber('')\r\n          setErrorMessage(`Added ${returnedPerson.name} `)\r\n          setTimeout(() => {\r\n            setErrorMessage(null)\r\n          }, 5000)\r\n        })\r\n    }\r\n  }\r\n\r\n  const deletePerson = (id) => {\r\n    const person = persons.find(n => n.id === id)\r\n\r\n    if (window.confirm(`Delete ${person.name} ?`)) {\r\n      personService.deleteObject(id)\r\n        .then(() => {\r\n          setPersons(persons.filter(n => n.id !== id))\r\n          setErrorMessage(`Deleted ${person.name} `)\r\n          setTimeout(() => {\r\n            setErrorMessage(null)\r\n          }, 5000)\r\n        })\r\n        .catch(error => {\r\n          setErrorMessage(`Information of ${person.name} has already been removed from server`)\r\n          setErrorSeverity(2)\r\n          setPersons(persons.filter(n => n.id !== id))\r\n          setTimeout(() => {\r\n            setErrorMessage(null)\r\n            setErrorSeverity(1)\r\n          }, 5000)\r\n        })\r\n    }\r\n  }\r\n\r\n  const filteredPersons = persons.filter((person) => {\r\n    return person.name.toLowerCase().startsWith(filter.toLowerCase())\r\n  })\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Error message={errorMessage} severity={errorSeverity}></Error>\r\n      <Filter filter={filter} handleChange={(event) => setFilter(event.target.value)}></Filter>\r\n      <h2>Add new number</h2>\r\n      <PersonForm name={newName} number={newNumber}\r\n        handleNameChange={(event) => setNewName(event.target.value)}\r\n        handleNumberChange={(event) => setNewNumber(event.target.value)}\r\n        handlePersonAdd={addPerson}></PersonForm>\r\n      <h2>Numbers</h2>\r\n      <Persons persons={filteredPersons} handleDeleteOf={deletePerson}></Persons>\r\n    </div >\r\n  )\r\n\r\n}\r\n\r\nexport default App\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n\r\n"],"sourceRoot":""}